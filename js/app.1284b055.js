(function(t){function e(e){for(var r,o,c=e[0],d=e[1],l=e[2],u=0,v=[];u<c.length;u++)o=c[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);s&&s(e);while(v.length)v.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,c=1;c<a.length;c++){var d=a[c];0!==i[d]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},i={app:0},n=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/DeckEdit/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var s=d;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r,i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"headline"},[t._v("Upload Deck")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-radio-group",{model:{value:t.uploadMode,callback:function(e){t.uploadMode=e},expression:"uploadMode"}},[a("v-radio",{attrs:{label:"Merge Cards (add Cards to the current Deck)",value:0}}),a("v-radio",{attrs:{label:"Merge Cards & Replace Properties (add Cards to the current Deck and overwrite Deck's properties)",value:1}}),a("v-radio",{attrs:{label:"Replace Everything (overwrite the current Deck)",value:2}})],1)],1)],1),a("v-row",[a("v-col",[a("v-file-input",{attrs:{accept:".json",label:"Import JSON file"},on:{change:function(e){return t.changeFile(e)}}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",text:""},on:{click:t.upload}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),t._v(" Upload")],1)],1)],1)],1),a("v-navigation-drawer",{staticClass:"pt-3",attrs:{app:"",color:"green",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.$store.getters.getTitle))])],1)],1),a("v-list",{attrs:{nav:""}},[a("v-list-item",{attrs:{to:"/"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-cog")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Deck Properties")])],1)],1),a("v-list-item",{attrs:{to:"/white-cards"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-file")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("White Cards")])],1)],1),a("v-list-item",{attrs:{to:"/black-cards"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-file")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Black Cards")])],1)],1),a("v-divider"),a("v-list-item",{on:{click:function(e){t.uploadDialog=!0}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-upload")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Upload Deck")])],1)],1),a("v-list-item",{on:{click:t.download}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-download")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Download Deck")])],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"",color:"green",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",[t._v("DeckEdit")]),a("v-spacer"),a("v-btn",{attrs:{href:"#",text:""},on:{click:t.toggleDarkMode}},[a("span",{staticClass:"mr-2"},[t._v("Toggle Dark Mode")]),a("v-icon",[t._v("mdi-theme-light-dark")])],1),a("v-btn",{attrs:{href:"https://github.com/dotandl/DeckEdit",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[t._v("GitHub")]),a("v-icon",[t._v("mdi-github")])],1)],1),a("v-main",[a("router-view")],1)],1)},o=[],c=a("1da1"),d=(a("96cf"),a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),function(t,e){var a=new Blob([t],{type:"text/json"}),r=document.createElement("a");r.setAttribute("href",URL.createObjectURL(a)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}),l=a("b85c");a("a15b"),a("b0c0"),a("a4d3"),a("e01a");(function(t){t[t["Merge"]=0]="Merge",t[t["MergeAndReplace"]=1]="MergeAndReplace",t[t["Replace"]=2]="Replace"})(r||(r={}));var s=function(t,e,a){var i=JSON.parse(e);switch(a){case r.Merge:var n,o=Object(l["a"])(i.responses);try{for(o.s();!(n=o.n()).done;){var c=n.value;t.commit("addWhiteCard",c.text.join(" "))}}catch(k){o.e(k)}finally{o.f()}var d,s=Object(l["a"])(i.calls);try{for(s.s();!(d=s.n()).done;){var u=d.value;t.commit("addBlackCard",u.text.join("_"))}}catch(k){s.e(k)}finally{s.f()}break;case r.MergeAndReplace:var v,m=Object(l["a"])(i.responses);try{for(m.s();!(v=m.n()).done;){var p=v.value;t.commit("addWhiteCard",p.text.join(" "))}}catch(k){m.e(k)}finally{m.f()}var f,h=Object(l["a"])(i.calls);try{for(h.s();!(f=h.n()).done;){var b=f.value;t.commit("addBlackCard",b.text.join("_"))}}catch(k){h.e(k)}finally{h.f()}t.commit("updateProperties",{title:i.name,description:i.description,watermark:i.watermark});break;case r.Replace:t.commit("importJSON",i);break}};function u(){var t=localStorage.getItem("darkMode");switch(t){case"light":return!1;case"dark":return!0;default:return window.matchMedia("(prefers-color-scheme: dark)").matches}}function v(t){var e=u();t.theme.dark=!e,localStorage.setItem("darkMode",e?"light":"dark")}var m=i["a"].extend({name:"App",data:function(){return{drawer:null,uploadDialog:!1,uploadMode:r.Merge,importedFile:""}},mounted:function(){window.addEventListener("beforeunload",(function(t){t.preventDefault(),t.returnValue=""}))},methods:{changeFile:function(t){var e=this,a=new FileReader;a.onload=function(t){var a,r=null===(a=t.target)||void 0===a?void 0:a.result;e.importedFile=r},a.readAsText(t)},upload:function(){if(""===this.importedFile)return alert("You need to specify a Deck file to upload"),void(this.uploadDialog=!1);s(this.$store,this.importedFile,this.uploadMode),this.uploadDialog=!1},download:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("exportJSON");case 2:a=e.sent,d(a,"".concat(t.$store.getters.getWatermark,".json"));case 4:case"end":return e.stop()}}),e)})))()},toggleDarkMode:function(){v(this.$vuetify)}}}),p=m,f=a("2877"),h=a("6544"),b=a.n(h),k=a("7496"),C=a("40dc"),g=a("5bc1"),w=a("8336"),x=a("b0af"),_=a("99d9"),V=a("62ad"),y=a("a523"),D=a("169a"),O=a("ce7e"),j=a("23a7"),E=a("132d"),M=a("8860"),T=a("da13"),W=a("5d23"),B=a("34c3"),S=a("f6c4"),R=a("f774"),$=a("67b6"),P=a("43a6"),A=a("0fd9"),I=a("2fa4"),F=a("2a7f"),L=Object(f["a"])(p,n,o,!1,null,null,null),N=L.exports;b()(L,{VApp:k["a"],VAppBar:C["a"],VAppBarNavIcon:g["a"],VBtn:w["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:V["a"],VContainer:y["a"],VDialog:D["a"],VDivider:O["a"],VFileInput:j["a"],VIcon:E["a"],VList:M["a"],VListItem:T["a"],VListItemContent:W["a"],VListItemIcon:B["a"],VListItemTitle:W["b"],VMain:S["a"],VNavigationDrawer:R["a"],VRadio:$["a"],VRadioGroup:P["a"],VRow:A["a"],VSpacer:I["a"],VToolbarTitle:F["a"]});var J=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"mx-1"},[a("v-row",[a("v-col",[a("h1",{staticClass:"my-4"},[t._v("Deck Properties")])])],1),a("v-row",[a("v-col",{attrs:{cols:t.mobile?12:6}},[a("v-text-field",{attrs:{value:t.getTitle,label:"Title",rules:t.rules.common,outlined:""},on:{input:t.setTitle}})],1),a("v-col",{attrs:{cols:t.mobile?12:6}},[a("v-text-field",{attrs:{value:t.getWatermark,label:"Watermark",counter:"5",rules:t.rules.watermark,outlined:""},on:{input:t.setWatermark}})],1),a("v-col",{attrs:{cols:12}},[a("v-textarea",{attrs:{value:t.getDescription,label:"Description",rules:t.rules.common,outlined:""},on:{input:t.setDescription}})],1)],1),a("v-row",[a("v-col",[a("v-btn",{staticClass:"mr-1",attrs:{color:"white",light:"",to:"/white-cards"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file")]),t._v(" Edit White Cards")],1),a("v-btn",{attrs:{color:"black",dark:"",to:"/black-cards"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file")]),t._v(" Edit Black Cards")],1)],1)],1)],1)},G=[],q=a("5530"),H=(a("466d"),a("ac1f"),a("2f62")),Y=i["a"].extend({data:function(){return{rules:{watermark:[function(t){return!!t.match(/^[A-Z0-9]{5}$/i)||"Watermark must contain 5 letters and digits"}],common:[function(t){return!!t||"Required"}]},mobile:!1}},computed:Object(q["a"])({},Object(H["b"])(["getTitle","getWatermark","getDescription"])),methods:Object(q["a"])({},Object(H["c"])(["setTitle","setWatermark","setDescription"])),beforeMount:function(){document.title="Properties | DeckEdit"},mounted:function(){var t=this,e=window.matchMedia("(max-width: 991px)");this.mobile=e.matches,e.addEventListener("change",(function(e){return t.mobile=e.matches}))}}),Z=Y,z=a("8654"),K=a("a844"),Q=Object(f["a"])(Z,U,G,!1,null,null,null),X=Q.exports;b()(Q,{VBtn:w["a"],VCol:V["a"],VContainer:y["a"],VIcon:E["a"],VRow:A["a"],VTextField:z["a"],VTextarea:K["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-1"},[a("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",color:"green",dark:""},on:{click:t.addCard}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"headline"},[t._v("Edit Card")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Card name"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeCardEditor(e)}},model:{value:t.editedCard.value,callback:function(e){t.$set(t.editedCard,"value",e)},expression:"editedCard.value"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",text:""},on:{click:t.closeCardEditor}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save")],1)],1)],1)],1),a("v-container",[a("v-row",[a("v-col",[a("h1",{staticClass:"my-4"},[t._v("White Cards")])])],1),a("v-row",t._l(t.cards,(function(e,r){return a("v-col",{key:r,attrs:{cols:t.mobile?12:3}},[a("v-card",{attrs:{color:"white",light:""}},[a("v-card-title",[t._v(t._s(e))]),a("v-card-actions",[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.editCard(r)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.deleteCard(r)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)})),1),a("v-row",[a("v-col",[a("v-btn",{staticClass:"mr-1",attrs:{color:"primary",to:"/"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cog")]),t._v(" Edit Deck Properties")],1),a("v-btn",{attrs:{color:"black",dark:"",to:"/black-cards"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file")]),t._v(" Edit Black Cards")],1)],1)],1)],1)],1)},et=[],at=i["a"].extend({data:function(){return{dialog:!1,editedCard:{index:-1,value:""},mobile:!1}},computed:Object(q["a"])({},Object(H["b"])({cards:"getWhiteCards"})),methods:{addCard:function(){this.$store.commit("addWhiteCard"),this.editCard(this.cards.length-1)},deleteCard:function(t){this.$store.commit("removeWhiteCard",t)},editCard:function(t){this.editedCard={index:t,value:this.cards[t]},this.dialog=!0},closeCardEditor:function(){this.dialog=!1,this.$store.commit("editWhiteCard",this.editedCard),this.editedCard={index:-1,value:""}}},beforeMount:function(){document.title="White Cards | DeckEdit"},mounted:function(){var t=this,e=window.matchMedia("(max-width: 991px)");this.mobile=e.matches,e.addEventListener("change",(function(e){return t.mobile=e.matches}))}}),rt=at,it=Object(f["a"])(rt,tt,et,!1,null,null,null),nt=it.exports;b()(it,{VBtn:w["a"],VCard:x["a"],VCardActions:_["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:V["a"],VContainer:y["a"],VDialog:D["a"],VIcon:E["a"],VRow:A["a"],VSpacer:I["a"],VTextField:z["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-1"},[a("v-btn",{attrs:{fab:"",fixed:"",bottom:"",right:"",color:"green",dark:""},on:{click:t.addCard}},[a("v-icon",[t._v("mdi-plus")])],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"headline"},[t._v("Edit Card")])]),a("v-card-subtitle",[t._v("Use "),a("i",[t._v("_")]),t._v(" to indicate the place for the White Card.")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Card name",rules:t.rules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.closeCardEditor(e)}},model:{value:t.editedCard.value,callback:function(e){t.$set(t.editedCard,"value",e)},expression:"editedCard.value"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",text:""},on:{click:t.closeCardEditor}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v(" Save")],1)],1)],1)],1),a("v-container",[a("v-row",[a("v-col",[a("h1",{staticClass:"my-4"},[t._v("Black Cards")])])],1),a("v-row",t._l(t.cards,(function(e,r){return a("v-col",{key:r,attrs:{cols:t.mobile?12:3}},[a("v-card",{attrs:{color:"black",dark:""}},[a("v-card-title",[t._v(t._s(e))]),a("v-card-actions",[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(e){return t.editCard(r)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",color:"red"},on:{click:function(e){return t.deleteCard(r)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)})),1),a("v-row",[a("v-col",[a("v-btn",{staticClass:"mr-1",attrs:{color:"primary",to:"/"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cog")]),t._v(" Edit Deck Properties")],1),a("v-btn",{attrs:{color:"white",light:"",to:"/white-cards"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-file")]),t._v(" Edit White Cards")],1)],1)],1)],1)],1)},ct=[],dt=(a("caad"),a("2532"),i["a"].extend({data:function(){return{rules:[function(t){return t.includes("_")||"The Black Card's name must contain at least one _"}],dialog:!1,editedCard:{index:-1,value:""},mobile:!1}},computed:Object(q["a"])({},Object(H["b"])({cards:"getBlackCards"})),methods:{addCard:function(){this.$store.commit("addBlackCard"),this.editCard(this.cards.length-1)},deleteCard:function(t){this.$store.commit("removeBlackCard",t)},editCard:function(t){this.editedCard={index:t,value:this.cards[t]},this.dialog=!0},closeCardEditor:function(){this.dialog=!1,this.$store.commit("editBlackCard",this.editedCard),this.editedCard={index:-1,value:""}}},beforeMount:function(){document.title="Black Cards | DeckEdit"},mounted:function(){var t=this,e=window.matchMedia("(max-width: 991px)");this.mobile=e.matches,e.addEventListener("change",(function(e){return t.mobile=e.matches}))}})),lt=dt,st=Object(f["a"])(lt,ot,ct,!1,null,null,null),ut=st.exports;b()(st,{VBtn:w["a"],VCard:x["a"],VCardActions:_["a"],VCardSubtitle:_["b"],VCardText:_["c"],VCardTitle:_["d"],VCol:V["a"],VContainer:y["a"],VDialog:D["a"],VIcon:E["a"],VRow:A["a"],VSpacer:I["a"],VTextField:z["a"]}),i["a"].use(J["a"]);var vt=[{path:"/",name:"Properties",component:X},{path:"/white-cards",name:"WhiteCards",component:nt},{path:"/black-cards",name:"BlackCards",component:ut}],mt=new J["a"]({mode:"history",base:"/DeckEdit/",routes:vt}),pt=mt;a("a434"),a("d81d"),a("1276");i["a"].use(H["a"]);var ft=new H["a"].Store({state:{title:"New Deck",watermark:"00000",description:"My awesome Deck",whiteCards:["The biggest, blackest dick."],blackCards:["What's that smell? _"]},getters:{getTitle:function(t){return t.title},getWatermark:function(t){return t.watermark},getDescription:function(t){return t.description},getWhiteCards:function(t){return t.whiteCards},getBlackCards:function(t){return t.blackCards}},mutations:{setTitle:function(t,e){t.title=e},setWatermark:function(t,e){t.watermark=e},setDescription:function(t,e){t.description=e},addWhiteCard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.whiteCards.push(e)},removeWhiteCard:function(t,e){t.whiteCards.splice(e,1)},editWhiteCard:function(t,e){var a=e.index,r=e.value;t.whiteCards[a]=r},addBlackCard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.blackCards.push(e)},removeBlackCard:function(t,e){t.blackCards.splice(e,1)},editBlackCard:function(t,e){var a=e.index,r=e.value;t.blackCards[a]=r},updateProperties:function(t,e){var a=e.title,r=e.description,i=e.watermark;t.title=a,t.description=r,t.watermark=i},importJSON:function(t,e){t.title=e.name,t.description=e.description,t.watermark=e.watermark,t.whiteCards=e.responses.map((function(t){return t.text.join(" ")})),t.blackCards=e.calls.map((function(t){return t.text.join("_")}))}},actions:{exportJSON:function(t){var e=t.state,a=e.blackCards.map((function(t){return t.split("_")})),r={name:e.title,description:e.description,watermark:e.watermark.toUpperCase(),responses:e.whiteCards.map((function(t){return{text:[t]}})),calls:a.map((function(t){return{text:t}}))};return JSON.stringify(r)}}}),ht=a("f309");i["a"].use(ht["a"]);var bt=new ht["a"]({theme:{dark:u()}});new i["a"]({router:pt,store:ft,vuetify:bt,render:function(t){return t(N)}}).$mount("#app")}});
//# sourceMappingURL=app.1284b055.js.map